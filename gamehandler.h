#ifndef GAMEHANDLER_H
#define GAMEHANDLER_H

#include <QTcpSocket>
#include <iostream>
#include <QString>
#include "mainwindow.h"


using namespace std;

typedef struct {
    int x; int y;  int inx; int iny;  int outx; int outy; bool rotfield; int rotx; int roty;
}VELD;

class GameHandler : public QObject
{
public:
    explicit GameHandler(QObject *parent =0 );
    void MovePawn(int pawn, int field);
    


private:
    int x,y;
    QTcpSocket *socket;
    QString requestString;
    QByteArray content;
    int bytes =0;
   /* int pawn;
    int field;*/
    int xpos;
    int ypos;
    int oldfield;

    VELD velden[41]{
        { 0,  0,  0,  0,  0,  0, false, 0,  0},            //0
        { 7, 20,  4, 20,  7, 17, true,  4, 17},            //1
        {10, 20, 10, 17, 10, 17, false, 0,  0},            //2
        {13, 20, 13, 17, 13, 17, false, 0,  0},            //3
        {16, 20, 16, 17, 16, 17, false, 0,  0},            //4
        {19, 20, 16, 17, 16, 17, true, 16, 17},            //5
        {19, 17, 16, 17, 16, 17, false, 0,  0},            //6
        {19, 14, 16, 14, 16, 14, false, 0,  0},            //7
        {19, 11, 16, 11, 16, 11, false, 0,  0},            //8
        {19,  8, 16,  8, 19,  5, true, 16,  5},            //9
        {22,  8, 22,  5, 22,  5, false, 0,  0},            //10
        {25,  8, 25,  5, 28,  8, true, 28,  5},            //11
        {25, 11, 28, 11, 28, 11, false, 0,  0},            //12
        {25, 14, 28, 14, 28, 14, false, 0,  0},            //13
        {25, 17, 28, 17, 28, 17, false, 0,  0},            //14
        {25, 20, 28, 17, 28, 17, true, 28, 17},            //15
        {28, 20, 28, 17, 28, 17, false, 0,  0},            //16
        {31, 20, 31, 17, 31, 17, false, 0,  0},            //17
        {34, 20, 34, 17, 34, 17, false, 0,  0},            //18
        {37, 20, 37, 17, 40, 20, true, 37, 17},            //19
        {37, 23, 40, 23, 40, 23, false, 0,  0},            //20
        {37, 26, 40, 26, 37, 29, true, 40, 29},            //21
        {34, 26, 34, 29, 34, 29, false, 0,  0},            //22
        {31, 26, 31, 29, 31, 29, false, 0,  0},            //23
        {28, 26, 28, 29, 28, 29, false, 0,  0},            //24
        {25, 26, 28, 29, 28, 29, true, 28, 29},            //25
        {25, 29, 28, 29, 28, 29, false, 0,  0},            //26
        {25, 32, 28, 32, 28, 32, false, 0,  0},            //27
        {25, 35, 28, 35, 28, 35, false, 0,  0},            //28
        {25, 38, 28, 38, 25, 41, true, 28, 41},            //29
        {22, 38, 22, 38, 22, 38, false, 0,  0},            //30
        {19, 38, 19, 41, 16, 38, true, 16, 41},            //31
        {19, 35, 16, 35, 16, 35, false, 0,  0},            //32
        {19, 32, 16, 31, 16, 31, false, 0,  0},            //33
        {19, 29, 16, 29, 16, 29, false, 0,  0},            //34
        {19, 26, 16, 29, 16, 29, true, 16, 29},            //35
        {16, 26, 16, 29, 16, 29, false, 0,  0},            //36
        {13, 26, 13, 29, 13, 29, false, 0,  0},            //37
        {10, 26, 10, 29, 10, 29, false, 0,  0},            //38
        { 7, 26,  7, 29,  4, 26, true , 4, 29},            //39
        { 7, 23,  4, 23,  4, 23, false, 0,  0}             //40

    };


     /*int table[2][41] ={
         {0, 7,  10, 13, 16, 19, 19, 19, 19, 19, 22, 25, 25, 25, 25, 25, 28, 31, 34, 37, 37, 37, 34, 31, 28, 25, 25, 25, 25, 25, 22, 19, 19, 19, 19, 19, 16, 13, 10,  7,  7 },
         {0, 20, 20, 20, 20, 20, 17, 14, 11,  8,  8,  8, 11, 14, 17, 20, 20, 20, 20, 20, 23, 26, 26, 26, 26, 26, 29, 32, 35, 38, 38, 38, 35, 32, 29, 26, 26, 26, 26, 26, 23 }
     };*/

     int PawnPos[3][4] ={
         {34, 42, 34, 42},
         { 6,  6, 14, 14},
         { 0,  0,  0,  0}
     };







};

#endif // GAMEHANDLER_H
